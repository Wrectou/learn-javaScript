<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>gouzao</title>
</head>
<body>
  <script>
    // 普通函数默认返回undefined， 构造函数实例化以后返回this

    // 写一个构造函数，接收数字类型的参数，参数数量不定，完成参数相加和相乘的功能
    function CalcNum() {
      var args,
          sum = 0;
      this.add = function () {
        args = arguments
        loop('add', args, sum)
      }
      this.mul = function () {
        args = arguments
        sum = 1
        loop('mul', args, sum)
      }
      function loop(method, args, sum) {
        for (var i = 0; i < args.length; i++) {
          var item = args[i]
          if (method === 'add') {
            sum += item
          } else if (method === 'mul') {
            sum *= item
          }
        }
        console.log(sum);
      }
    }

    var calc = new CalcNum()
    // calc.add(1,2,3,4)
    // calc.mul(1,2,3,4)


    // function CalcNum() {
    //   var sum = 0,
    //       ride = 1;
    //   for (var i = 0; i < arguments.length; i++) {
    //     sum += arguments[i]
    //     ride *= arguments[i]
    //   }
    //   console.log('相加： ', sum);
    //   console.log('相乘： ', ride);
    // }

    // let calc = new CalcNum(1,2,3,4,5)
    // console.log(calc);
  
    // 写一个构造车的函数，可设置车的品牌，颜色，排量
    // 再写一个构造消费者的函数，设置用户的名字，年龄，收入，通过选择的方法实例化该用户喜欢的车，再设置车的属性
    function Car(option) {
      this.price = option.price
      this.color = option.color
      this.size = option.size
    }

    function Person(option) {
      this.name = option.name
      this.age = option.age
      this.money = option.money
      const car = new Car(option.carOption)
      console.log(`${this.name}今年${this.age}岁，买了一辆${car.size}排量的${car.color}色${car.price}`);
    }

    // const zhangsan = new Person({
    //   name: '张三',
    //   age: 26,
    //   money: 20,
    //   carOption: {
    //     price: 'Mazda',
    //     color: 'red',
    //     size: '2.0'
    //   }
    // })


    // function Car(option) {
    //   console.log(this);
    //   this.price = option.price
    //   this.color = option.color
    //   this.size = option.size
    // }

    // let car1 = new Car({price: 'mazda',color: 'red', size: '2.0'})
    // let car2 = Car({price: 'mazda',color: 'red', size: '2.0'})

    // console.log(car1);
    // console.log(car2);

    // function Person(option) {
    //   this.name = option.name
    //   this.age = option.age
    //   this.money = option.money
    // }


    
    // 构造函数原理

    // GO: {
    //   Car: function() {},
    //   car: {
    //     color: option.color,
    //     price: option.price,
    //   }
    // }

    // AO: {
    //   this: {
    //     color: option.color,
    //     price: option.price,
    //   }
    // }

    // function Car(option) {
    //   // this = {
    //   //   color: option.color,
    //   //   price: option.price
    //   // }
    //   this.color = option.color
    //   this.price = option.price
    //   // return this
    // }
      
    // return '123'
    // return {}
    // return 引用类型会被替换  function object array

    // var mazda = new Car({color: 'red', price: 'Mazda'})
    // console.log(mazda.color);


    // function bmw() {
    //   var th3 = {
    //     color: 'blue',
    //     price: 'BMW'
    //   }
    //   return th3
    // }
    // var t3 = bmw()
    // console.log(t3.price);


    function Test(a, b, c) {
      var d = 1
      this.a = a
      this.b = b
      this.c = c

      function f() {
        d++
        console.log(d);
      }

      this.g = f
    }
    var test1 = new Test()
    // test1.g()
    // test1.g()
    var test2 = new Test()
    // test2.g()



    var x = 1,
        y = z = 0;
    function add(n){
      return n = n + 1
    }
    y = add(x)
    function add(n) {
      return n = n + 3
    }
    z = add(x)
    // console.log(x, y, z);


    // function foo1(x) {
    //   console.log(arguments);
    //   return x
    // }
    // foo1(1,2,3,4,5)

    // function foo2(x) {
    //   console.log(arguments);
    //   return x
    // }(1,2,3,4,5)

    // (function foo3(x) {
    //   console.log(arguments);
    //   return x;
    // })(1,2,3,4,5);

    // function b(x,y,a) {
    //   arguments[2] = 10
    //   console.log(arguments[2]);
    //   console.log(a);
    // }
    // b(1,2,3)



    function charCodeAtString(str) {
      if (!str) return
      let allcharCode = 0
      for (var i = 0; i < str.length; i++) {
        var position = str.charCodeAt(i)
        if (position < 256) allcharCode += 1
        else allcharCode += 2
      }
      // console.log('字节数是： ', allcharCode);
    }
    charCodeAtString('湖都撒到空间啊死了aa')


    // 写一个插件，任意传两个数字，调用插件内部方法可进行加减乘除功能




    var obj1 = {}
    console.log(obj1);

    var obj2 = Object.create(null)
    console.log(obj2);

    // 不是所有的对象都继承与Object.prototype

    // undefined null 不能用toString()方法，原始值是没有属性和方法的，也不能包装类

    console.log(Number.prototype.toString.call(1));
    console.log(Object.prototype.toString.call(1));
  </script>
</body>
</html>